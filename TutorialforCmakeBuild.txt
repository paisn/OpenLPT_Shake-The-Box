Building STB with CMake

Be sure to have a couple of dependencies installed: the gomp library for OpenMP and the libtiff library for processing tiff images. These libraries are later linked to the binary.

After cloning the git repo go to the working subdirectory e.g. <your_subdirectory>/OpenLPT_Shake-The-Box/ShakeTheBox

$ cd <your_subdirectory>/OpenLPT_Shake-The-Box/ShakeTheBox

Generate a new subdirectory called "build"

$ mkdir build

Change directory to "build"

$ cd build

Run cmake to generate the necessary build files.

$ cmake ..

This should generate something like:

paisn@Host01:~/STB/OpenLPT_Shake-The-Box/ShakeTheBox/build$ cmake ..
-- The C compiler identification is GNU 7.5.0
-- The CXX compiler identification is GNU 7.5.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Configuring done
-- Generating done
-- Build files have been written to: /home/paisn/STB/OpenLPT_Shake-The-Box/ShakeTheBox/build

Then run the make command:

$ make

After a couple of minutes, you should see:
[100%] Linking CXX executable ShakeTheBox
[100%] Built target ShakeTheBox

There are still a couple of warnings like -deprecated and -fpermissive,
which shold be fixed in the future.

You can check that the binary was successfully generated by:

$ ls

That should provide you some details about the compiled libs and the binary. e.g.
paisn@Host01:~/STB/OpenLPT_Shake-The-Box/ShakeTheBox/build$ ls
CMakeCache.txt  cmake_install.cmake  libMath.a  Makefile
CMakeFiles      libDataIO.a          libSTB.a   ShakeTheBox

Where ShakeTheBox is the binary.
You can start ShakeTheBox for getting the version number:
 
$ ./ShakeTheBox

paisn@Host01:~/STB/OpenLPT_Shake-The-Box/ShakeTheBox/build$ ./ShakeTheBox 
Code version: L2.1.041619
Usage: ./ShakeTheBox <configuration file>

For evaluating images you have to provide a configuration file.
Please use the template for trackingconfig1.txt.

In the trackingconfig1.txt use the complete (!) file path to the ipr configuration file
(iprconfig.txt) and as well for the path to the predictive field file (predictivefield.txt).
The complete path will e.g. look like: "/home/<username>/OpenLPT_Shake-The-Box/".
Afterwards check the iprconfig.txt file as well for the complete path to the camera calibration, Tiff and OTF files.
After updating both files (trackingconfig1.txt and iprconfig.txt) you can launch the STB binary.

$ ./ShakeTheBox <your_complete_path_to_the_subdirectory>/OpenLPT_Shake-The-Box/SD00125/trackingconfig1.txt

The following menu shows a couple of evaluation options. For a test choose "0" and "0". With 50 images, where the number of images can be set in the trackingconfig1.txt, it can take already 10000s (Core i5). 
